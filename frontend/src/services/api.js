// import axios from "axios";
// import { refreshToken, logout } from "./authService";

// const API_URL = "http://localhost:5000";

// const api = axios.create({
//   baseURL: API_URL,
// });

// api.interceptors.request.use(
//   async (config) => {
//     const token = localStorage.getItem("accessToken");
//     if (token) {
//       config.headers["Authorization"] = `Bearer ${token}`;
//     }
//     return config;
//   },
//   (error) => {
//     return Promise.reject(error);
//   }
// );

// api.interceptors.response.use(
//   (response) => {
//     return response;
//   },
//   async (error) => {
//     const originalRequest = error.config;
//     if (error.response.status === 401 && !originalRequest._retry) {
//       originalRequest._retry = true;
//       try {
//         const newAccessToken = await refreshToken();
//         api.defaults.headers.common[
//           "Authorization"
//         ] = `Bearer ${newAccessToken}`;
//         originalRequest.headers["Authorization"] = `Bearer ${newAccessToken}`;
//         return api(originalRequest);
//       } catch (err) {
//         logout();
//         window.location.href = "/login"; // Redirect to login page
//       }
//     }
//     return Promise.reject(error);
//   }
// );

// export default api;
import axios from "axios";
import CryptoJS from "crypto-js";
import { logout, refreshToken } from "./authService";

const API_URL = "http://localhost:5000";

const api = axios.create({
  baseURL: API_URL,
});

const generateChecksum = (data) => {
  // console.log(data);
  const start = performance.now();
  const checksum = CryptoJS.SHA256(JSON.stringify(data)).toString();
  const end = performance.now();
  console.log(checksum);
  return { checksum, time: end - start };
};

api.interceptors.request.use(
  async (config) => {
    const smallData = {
      name: "Sample Data",
      description: "This JSON includes most data structures.",
      version: 1.0,
      isActive: true,
      features: ["data structures", "nested objects", "arrays"],
      metadata: {
        created: "2024-06-12T12:00:00Z",
        author: {
          name: "ChatGPT",
          organization: "OpenAI",
          contacts: [
            {
              type: "email",
              value: "support@openai.com",
            },
            {
              type: "website",
              value: "https://www.openai.com",
            },
          ],
        },
      },
      items: [
        {
          id: 1,
          name: "Item One",
          price: 19.99,
          tags: ["tag1", "tag2"],
          dimensions: {
            length: 10.0,
            width: 5.0,
            height: 2.5,
          },
          available: true,
          relatedItems: [
            {
              id: 2,
              name: "Item Two",
              price: 29.99,
            },
            {
              id: 3,
              name: "Item Three",
              price: 9.99,
            },
          ],
        },
        {
          id: 4,
          name: "Item Four",
          price: 49.99,
          tags: ["tag3", "tag4"],
          dimensions: {
            length: 20.0,
            width: 10.0,
            height: 5.0,
          },
          available: false,
          relatedItems: [
            {
              id: 5,
              name: "Item Five",
              price: 39.99,
            },
          ],
        },
      ],
      settings: {
        theme: "dark",
        notifications: {
          email: true,
          sms: false,
          push: {
            enabled: true,
            sound: "default",
          },
        },
        privacy: {
          tracking: false,
          ads: true,
          dataSharing: {
            thirdParties: false,
            partners: true,
          },
        },
      },
      dataSamples: [
        {
          type: "numbers",
          values: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10],
        },
        {
          type: "strings",
          values: ["one", "two", "three", "four", "five"],
        },
        {
          type: "mixed",
          values: [true, false, null, "text", 123, 45.67],
        },
      ],
      complexStructure: {
        level1: {
          level2: {
            level3: {
              array: [1, { nested: "object" }, [1, 2, 3], null, false],
              boolean: true,
              number: 123456,
              string: "deeply nested value",
            },
          },
        },
      },
      nullValue: null,
      booleanValues: {
        trueValue: true,
        falseValue: false,
      },
      emptyStructures: {
        emptyArray: [],
        emptyObject: {},
      },
    };

    const mediumData = {
      field1: "random_string_1",
      field2: "random_string_2",
      field3: "random_string_3",
      field4: "random_string_4",
      field5: "random_string_5",
      field6: "random_string_6",
      field7: "random_string_7",
      field8: "random_string_8",
      field9: "random_string_9",
      field10: "random_string_10",
      field11: "random_string_11",
      field12: "random_string_12",
      field13: "random_string_13",
      field14: "random_string_14",
      field15: "random_string_15",
      field16: "random_string_16",
      field17: "random_string_17",
      field18: "random_string_18",
      field19: "random_string_19",
      field20: "random_string_20",
      field21: "random_string_21",
      field22: "random_string_22",
      field23: "random_string_23",
      field24: "random_string_24",
      field25: "random_string_25",
      field26: "random_string_26",
      field27: "random_string_27",
      field28: "random_string_28",
      field29: "random_string_29",
      field30: "random_string_30",
      field31: "random_string_31",
      field32: "random_string_32",
      field33: "random_string_33",
      field34: "random_string_34",
      field35: "random_string_35",
      field36: "random_string_36",
      field37: "random_string_37",
      field38: "random_string_38",
      field39: "random_string_39",
      field40: "random_string_40",
      field41: "random_string_41",
      field42: "random_string_42",
      field43: "random_string_43",
      field44: "random_string_44",
      field45: "random_string_45",
      field46: "random_string_46",
      field47: "random_string_47",
      field48: "random_string_48",
      field49: "random_string_49",
      field50: "random_string_50",
      field51: "random_string_51",
      field52: "random_string_52",
      field53: "random_string_53",
      field54: "random_string_54",
      field55: "random_string_55",
      field56: "random_string_56",
      field57: "random_string_57",
      field58: "random_string_58",
      field59: "random_string_59",
      field60: "random_string_60",
      field61: "random_string_61",
      field62: "random_string_62",
      field63: "random_string_63",
      field64: "random_string_64",
      field65: "random_string_65",
      field66: "random_string_66",
      field67: "random_string_67",
      field68: "random_string_68",
      field69: "random_string_69",
      field70: "random_string_70",
      field71: "random_string_71",
      field72: "random_string_72",
      field73: "random_string_73",
      field74: "random_string_74",
      field75: "random_string_75",
      field76: "random_string_76",
      field77: "random_string_77",
      field78: "random_string_78",
      field79: "random_string_79",
      field80: "random_string_80",
      field81: "random_string_81",
      field82: "random_string_82",
      field83: "random_string_83",
      field84: "random_string_84",
      field85: "random_string_85",
      field86: "random_string_86",
      field87: "random_string_87",
      field88: "random_string_88",
      field89: "random_string_89",
      field90: "random_string_90",
      field91: "random_string_91",
      field92: "random_string_92",
      field93: "random_string_93",
      field94: "random_string_94",
      field95: "random_string_95",
      field96: "random_string_96",
      field97: "random_string_97",
      field98: "random_string_98",
      field99: "random_string_99",
      field100: "random_string_100",
      field101: "random_string_101",
      field102: "random_string_102",
      field103: "random_string_103",
      field104: "random_string_104",
      field105: "random_string_105",
      field106: "random_string_106",
      field107: "random_string_107",
      field108: "random_string_108",
      field109: "random_string_109",
      field110: "random_string_110",
      field111: "random_string_111",
    };
    const largeData = {
      fieldx: "random_string_x",
      field1: "random_string_1",
      field2: "random_string_2",
      field3: "random_string_3",
      field4: "random_string_4",
      field5: "random_string_5",
      field6: "random_string_6",
      field7: "random_string_7",
      field8: "random_string_8",
      field9: "random_string_9",
      field10: "random_string_10",
      field11: "random_string_11",
      field12: "random_string_12",
      field13: "random_string_13",
      field14: "random_string_14",
      field15: "random_string_15",
      field16: "random_string_16",
      field17: "random_string_17",
      field18: "random_string_18",
      field19: "random_string_19",
      field20: "random_string_20",
      field21: "random_string_21",
      field22: "random_string_22",
      field23: "random_string_23",
      field24: "random_string_24",
      field25: "random_string_25",
      field26: "random_string_26",
      field27: "random_string_27",
      field28: "random_string_28",
      field29: "random_string_29",
      field30: "random_string_30",
      field31: "random_string_31",
      field32: "random_string_32",
      field33: "random_string_33",
      field34: "random_string_34",
      field35: "random_string_35",
      field36: "random_string_36",
      field37: "random_string_37",
      field38: "random_string_38",
      field39: "random_string_39",
      field40: "random_string_40",
      field41: "random_string_41",
      field42: "random_string_42",
      field43: "random_string_43",
      field44: "random_string_44",
      field45: "random_string_45",
      field46: "random_string_46",
      field47: "random_string_47",
      field48: "random_string_48",
      field49: "random_string_49",
      field50: "random_string_50",
      field51: "random_string_51",
      field52: "random_string_52",
      field53: "random_string_53",
      field54: "random_string_54",
      field55: "random_string_55",
      field56: "random_string_56",
      field57: "random_string_57",
      field58: "random_string_58",
      field59: "random_string_59",
      field60: "random_string_60",
      field61: "random_string_61",
      field62: "random_string_62",
      field63: "random_string_63",
      field64: "random_string_64",
      field65: "random_string_65",
      field66: "random_string_66",
      field67: "random_string_67",
      field68: "random_string_68",
      field69: "random_string_69",
      field70: "random_string_70",
      field71: "random_string_71",
      field72: "random_string_72",
      field73: "random_string_73",
      field74: "random_string_74",
      field75: "random_string_75",
      field76: "random_string_76",
      field77: "random_string_77",
      field78: "random_string_78",
      field79: "random_string_79",
      field80: "random_string_80",
      field81: "random_string_81",
      field82: "random_string_82",
      field83: "random_string_83",
      field84: "random_string_84",
      field85: "random_string_85",
      field86: "random_string_86",
      field87: "random_string_87",
      field88: "random_string_88",
      field89: "random_string_89",
      field90: "random_string_90",
      field91: "random_string_91",
      field92: "random_string_92",
      field93: "random_string_93",
      field94: "random_string_94",
      field95: "random_string_95",
      field96: "random_string_96",
      field97: "random_string_97",
      field98: "random_string_98",
      field99: "random_string_99",
      field100: "random_string_100",
      field101: "random_string_101",
      field102: "random_string_102",
      field103: "random_string_103",
      field104: "random_string_104",
      field105: "random_string_105",
      field106: "random_string_106",
      field107: "random_string_107",
      field108: "random_string_108",
      field109: "random_string_109",
      field110: "random_string_110",
      field111: "random_string_111",

      field1: "random_string_1",
      field2: "random_string_2",
      field3: "random_string_3",
      field4: "random_string_4",
      field5: "random_string_5",
      field6: "random_string_6",
      field7: "random_string_7",
      field8: "random_string_8",
      field9: "random_string_9",
      field10: "random_string_10",
      field11: "random_string_11",
      field12: "random_string_12",
      field13: "random_string_13",
      field14: "random_string_14",
      field15: "random_string_15",
      field16: "random_string_16",
      field17: "random_string_17",
      field18: "random_string_18",
      field19: "random_string_19",
      field20: "random_string_20",
      field21: "random_string_21",
      field22: "random_string_22",
      field23: "random_string_23",
      field24: "random_string_24",
      field25: "random_string_25",
      field26: "random_string_26",
      field27: "random_string_27",
      field28: "random_string_28",
      field29: "random_string_29",
      field30: "random_string_30",
      field31: "random_string_31",
      field32: "random_string_32",
      field33: "random_string_33",
      field34: "random_string_34",
      field35: "random_string_35",
      field36: "random_string_36",
      field37: "random_string_37",
      field38: "random_string_38",
      field39: "random_string_39",
      field40: "random_string_40",
      field41: "random_string_41",
      field42: "random_string_42",
      field43: "random_string_43",
      field44: "random_string_44",
      field45: "random_string_45",
      field46: "random_string_46",
      field47: "random_string_47",
      field48: "random_string_48",
      field49: "random_string_49",
      field50: "random_string_50",
      field51: "random_string_51",
      field52: "random_string_52",
      field53: "random_string_53",
      field54: "random_string_54",
      field55: "random_string_55",
      field56: "random_string_56",
      field57: "random_string_57",
      field58: "random_string_58",
      field59: "random_string_59",
      field60: "random_string_60",
      field61: "random_string_61",
      field62: "random_string_62",
      field63: "random_string_63",
      field64: "random_string_64",
      field65: "random_string_65",
      field66: "random_string_66",
      field67: "random_string_67",
      field68: "random_string_68",
      field69: "random_string_69",
      field70: "random_string_70",
      field71: "random_string_71",
      field72: "random_string_72",
      field73: "random_string_73",
      field74: "random_string_74",
      field75: "random_string_75",
      field76: "random_string_76",
      field77: "random_string_77",
      field78: "random_string_78",
      field79: "random_string_79",
      field80: "random_string_80",
      field81: "random_string_81",
      field82: "random_string_82",
      field83: "random_string_83",
      field84: "random_string_84",
      field85: "random_string_85",
      field86: "random_string_86",
      field87: "random_string_87",
      field88: "random_string_88",
      field89: "random_string_89",
      field90: "random_string_90",
      field91: "random_string_91",
      field92: "random_string_92",
      field93: "random_string_93",
      field94: "random_string_94",
      field95: "random_string_95",
      field96: "random_string_96",
      field97: "random_string_97",
      field98: "random_string_98",
      field99: "random_string_99",
      field100: "random_string_100",
      field101: "random_string_101",
      field102: "random_string_102",
      field103: "random_string_103",
      field104: "random_string_104",
      field105: "random_string_105",
      field106: "random_string_106",
      field107: "random_string_107",
      field108: "random_string_108",
      field109: "random_string_109",
      field110: "random_string_110",
      field111: "random_string_111",

      field1: "random_string_1",
      field2: "random_string_2",
      field3: "random_string_3",
      field4: "random_string_4",
      field5: "random_string_5",
      field6: "random_string_6",
      field7: "random_string_7",
      field8: "random_string_8",
      field9: "random_string_9",
      field10: "random_string_10",
      field11: "random_string_11",
      field12: "random_string_12",
      field13: "random_string_13",
      field14: "random_string_14",
      field15: "random_string_15",
      field16: "random_string_16",
      field17: "random_string_17",
      field18: "random_string_18",
      field19: "random_string_19",
      field20: "random_string_20",
      field21: "random_string_21",
      field22: "random_string_22",
      field23: "random_string_23",
      field24: "random_string_24",
      field25: "random_string_25",
      field26: "random_string_26",
      field27: "random_string_27",
      field28: "random_string_28",
      field29: "random_string_29",
      field30: "random_string_30",
      field31: "random_string_31",
      field32: "random_string_32",
      field33: "random_string_33",
      field34: "random_string_34",
      field35: "random_string_35",
      field36: "random_string_36",
      field37: "random_string_37",
      field38: "random_string_38",
      field39: "random_string_39",
      field40: "random_string_40",
      field41: "random_string_41",
      field42: "random_string_42",
      field43: "random_string_43",
      field44: "random_string_44",
      field45: "random_string_45",
      field46: "random_string_46",
      field47: "random_string_47",
      field48: "random_string_48",
      field49: "random_string_49",
      field50: "random_string_50",
      field51: "random_string_51",
      field52: "random_string_52",
      field53: "random_string_53",
      field54: "random_string_54",
      field55: "random_string_55",
      field56: "random_string_56",
      field57: "random_string_57",
      field58: "random_string_58",
      field59: "random_string_59",
      field60: "random_string_60",
      field61: "random_string_61",
      field62: "random_string_62",
      field63: "random_string_63",
      field64: "random_string_64",
      field65: "random_string_65",
      field66: "random_string_66",
      field67: "random_string_67",
      field68: "random_string_68",
      field69: "random_string_69",
      field70: "random_string_70",
      field71: "random_string_71",
      field72: "random_string_72",
      field73: "random_string_73",
      field74: "random_string_74",
      field75: "random_string_75",
      field76: "random_string_76",
      field77: "random_string_77",
      field78: "random_string_78",
      field79: "random_string_79",
      field80: "random_string_80",
      field81: "random_string_81",
      field82: "random_string_82",
      field83: "random_string_83",
      field84: "random_string_84",
      field85: "random_string_85",
      field86: "random_string_86",
      field87: "random_string_87",
      field88: "random_string_88",
      field89: "random_string_89",
      field90: "random_string_90",
      field91: "random_string_91",
      field92: "random_string_92",
      field93: "random_string_93",
      field94: "random_string_94",
      field95: "random_string_95",
      field96: "random_string_96",
      field97: "random_string_97",
      field98: "random_string_98",
      field99: "random_string_99",
      field100: "random_string_100",
      field101: "random_string_101",
      field102: "random_string_102",
      field103: "random_string_103",
      field104: "random_string_104",
      field105: "random_string_105",
      field106: "random_string_106",
      field107: "random_string_107",
      field108: "random_string_108",
      field109: "random_string_109",
      field110: "random_string_110",
      field111: "random_string_111",

      field1: "random_string_1",
      field2: "random_string_2",
      field3: "random_string_3",
      field4: "random_string_4",
      field5: "random_string_5",
      field6: "random_string_6",
      field7: "random_string_7",
      field8: "random_string_8",
      field9: "random_string_9",
      field10: "random_string_10",
      field11: "random_string_11",
      field12: "random_string_12",
      field13: "random_string_13",
      field14: "random_string_14",
      field15: "random_string_15",
      field16: "random_string_16",
      field17: "random_string_17",
      field18: "random_string_18",
      field19: "random_string_19",
      field20: "random_string_20",
      field21: "random_string_21",
      field22: "random_string_22",
      field23: "random_string_23",
      field24: "random_string_24",
      field25: "random_string_25",
      field26: "random_string_26",
      field27: "random_string_27",
      field28: "random_string_28",
      field29: "random_string_29",
      field30: "random_string_30",
      field31: "random_string_31",
      field32: "random_string_32",
      field33: "random_string_33",
      field34: "random_string_34",
      field35: "random_string_35",
      field36: "random_string_36",
      field37: "random_string_37",
      field38: "random_string_38",
      field39: "random_string_39",
      field40: "random_string_40",
      field41: "random_string_41",
      field42: "random_string_42",
      field43: "random_string_43",
      field44: "random_string_44",
      field45: "random_string_45",
      field46: "random_string_46",
      field47: "random_string_47",
      field48: "random_string_48",
      field49: "random_string_49",
      field50: "random_string_50",
      field51: "random_string_51",
      field52: "random_string_52",
      field53: "random_string_53",
      field54: "random_string_54",
      field55: "random_string_55",
      field56: "random_string_56",
      field57: "random_string_57",
      field58: "random_string_58",
      field59: "random_string_59",
      field60: "random_string_60",
      field61: "random_string_61",
      field62: "random_string_62",
      field63: "random_string_63",
      field64: "random_string_64",
      field65: "random_string_65",
      field66: "random_string_66",
      field67: "random_string_67",
      field68: "random_string_68",
      field69: "random_string_69",
      field70: "random_string_70",
      field71: "random_string_71",
      field72: "random_string_72",
      field73: "random_string_73",
      field74: "random_string_74",
      field75: "random_string_75",
      field76: "random_string_76",
      field77: "random_string_77",
      field78: "random_string_78",
      field79: "random_string_79",
      field80: "random_string_80",
      field81: "random_string_81",
      field82: "random_string_82",
      field83: "random_string_83",
      field84: "random_string_84",
      field85: "random_string_85",
      field86: "random_string_86",
      field87: "random_string_87",
      field88: "random_string_88",
      field89: "random_string_89",
      field90: "random_string_90",
      field91: "random_string_91",
      field92: "random_string_92",
      field93: "random_string_93",
      field94: "random_string_94",
      field95: "random_string_95",
      field96: "random_string_96",
      field97: "random_string_97",
      field98: "random_string_98",
      field99: "random_string_99",
      field100: "random_string_100",
      field101: "random_string_101",
      field102: "random_string_102",
      field103: "random_string_103",
      field104: "random_string_104",
      field105: "random_string_105",
      field106: "random_string_106",
      field107: "random_string_107",
      field108: "random_string_108",
      field109: "random_string_109",
      field110: "random_string_110",
      field111: "random_string_111",

      field1: "random_string_1",
      field2: "random_string_2",
      field3: "random_string_3",
      field4: "random_string_4",
      field5: "random_string_5",
      field6: "random_string_6",
      field7: "random_string_7",
      field8: "random_string_8",
      field9: "random_string_9",
      field10: "random_string_10",
      field11: "random_string_11",
      field12: "random_string_12",
      field13: "random_string_13",
      field14: "random_string_14",
      field15: "random_string_15",
      field16: "random_string_16",
      field17: "random_string_17",
      field18: "random_string_18",
      field19: "random_string_19",
      field20: "random_string_20",
      field21: "random_string_21",
      field22: "random_string_22",
      field23: "random_string_23",
      field24: "random_string_24",
      field25: "random_string_25",
      field26: "random_string_26",
      field27: "random_string_27",
      field28: "random_string_28",
      field29: "random_string_29",
      field30: "random_string_30",
      field31: "random_string_31",
      field32: "random_string_32",
      field33: "random_string_33",
      field34: "random_string_34",
      field35: "random_string_35",
      field36: "random_string_36",
      field37: "random_string_37",
      field38: "random_string_38",
      field39: "random_string_39",
      field40: "random_string_40",
      field41: "random_string_41",
      field42: "random_string_42",
      field43: "random_string_43",
      field44: "random_string_44",
      field45: "random_string_45",
      field46: "random_string_46",
      field47: "random_string_47",
      field48: "random_string_48",
      field49: "random_string_49",
      field50: "random_string_50",
      field51: "random_string_51",
      field52: "random_string_52",
      field53: "random_string_53",
      field54: "random_string_54",
      field55: "random_string_55",
      field56: "random_string_56",
      field57: "random_string_57",
      field58: "random_string_58",
      field59: "random_string_59",
      field60: "random_string_60",
      field61: "random_string_61",
      field62: "random_string_62",
      field63: "random_string_63",
      field64: "random_string_64",
      field65: "random_string_65",
      field66: "random_string_66",
      field67: "random_string_67",
      field68: "random_string_68",
      field69: "random_string_69",
      field70: "random_string_70",
      field71: "random_string_71",
      field72: "random_string_72",
      field73: "random_string_73",
      field74: "random_string_74",
      field75: "random_string_75",
      field76: "random_string_76",
      field77: "random_string_77",
      field78: "random_string_78",
      field79: "random_string_79",
      field80: "random_string_80",
      field81: "random_string_81",
      field82: "random_string_82",
      field83: "random_string_83",
      field84: "random_string_84",
      field85: "random_string_85",
      field86: "random_string_86",
      field87: "random_string_87",
      field88: "random_string_88",
      field89: "random_string_89",
      field90: "random_string_90",
      field91: "random_string_91",
      field92: "random_string_92",
      field93: "random_string_93",
      field94: "random_string_94",
      field95: "random_string_95",
      field96: "random_string_96",
      field97: "random_string_97",
      field98: "random_string_98",
      field99: "random_string_99",
      field100: "random_string_100",
      field101: "random_string_101",
      field102: "random_string_102",
      field103: "random_string_103",
      field104: "random_string_104",
      field105: "random_string_105",
      field106: "random_string_106",
      field107: "random_string_107",
      field108: "random_string_108",
      field109: "random_string_109",
      field110: "random_string_110",
      field111: "random_string_111",

      field1: "random_string_1",
      field2: "random_string_2",
      field3: "random_string_3",
      field4: "random_string_4",
      field5: "random_string_5",
      field6: "random_string_6",
      field7: "random_string_7",
      field8: "random_string_8",
      field9: "random_string_9",
      field10: "random_string_10",
      field11: "random_string_11",
      field12: "random_string_12",
      field13: "random_string_13",
      field14: "random_string_14",
      field15: "random_string_15",
      field16: "random_string_16",
      field17: "random_string_17",
      field18: "random_string_18",
      field19: "random_string_19",
      field20: "random_string_20",
      field21: "random_string_21",
      field22: "random_string_22",
      field23: "random_string_23",
      field24: "random_string_24",
      field25: "random_string_25",
      field26: "random_string_26",
      field27: "random_string_27",
      field28: "random_string_28",
      field29: "random_string_29",
      field30: "random_string_30",
      field31: "random_string_31",
      field32: "random_string_32",
      field33: "random_string_33",
      field34: "random_string_34",
      field35: "random_string_35",
      field36: "random_string_36",
      field37: "random_string_37",
      field38: "random_string_38",
      field39: "random_string_39",
      field40: "random_string_40",
      field41: "random_string_41",
      field42: "random_string_42",
      field43: "random_string_43",
      field44: "random_string_44",
      field45: "random_string_45",
      field46: "random_string_46",
      field47: "random_string_47",
      field48: "random_string_48",
      field49: "random_string_49",
      field50: "random_string_50",
      field51: "random_string_51",
      field52: "random_string_52",
      field53: "random_string_53",
      field54: "random_string_54",
      field55: "random_string_55",
      field56: "random_string_56",
      field57: "random_string_57",
      field58: "random_string_58",
      field59: "random_string_59",
      field60: "random_string_60",
      field61: "random_string_61",
      field62: "random_string_62",
      field63: "random_string_63",
      field64: "random_string_64",
      field65: "random_string_65",
      field66: "random_string_66",
      field67: "random_string_67",
      field68: "random_string_68",
      field69: "random_string_69",
      field70: "random_string_70",
      field71: "random_string_71",
      field72: "random_string_72",
      field73: "random_string_73",
      field74: "random_string_74",
      field75: "random_string_75",
      field76: "random_string_76",
      field77: "random_string_77",
      field78: "random_string_78",
      field79: "random_string_79",
      field80: "random_string_80",
      field81: "random_string_81",
      field82: "random_string_82",
      field83: "random_string_83",
      field84: "random_string_84",
      field85: "random_string_85",
      field86: "random_string_86",
      field87: "random_string_87",
      field88: "random_string_88",
      field89: "random_string_89",
      field90: "random_string_90",
      field91: "random_string_91",
      field92: "random_string_92",
      field93: "random_string_93",
      field94: "random_string_94",
      field95: "random_string_95",
      field96: "random_string_96",
      field97: "random_string_97",
      field98: "random_string_98",
      field99: "random_string_99",
      field100: "random_string_100",
      field101: "random_string_101",
      field102: "random_string_102",
      field103: "random_string_103",
      field104: "random_string_104",
      field105: "random_string_105",
      field106: "random_string_106",
      field107: "random_string_107",
      field108: "random_string_108",
      field109: "random_string_109",
      field110: "random_string_110",
      field111: "random_string_111",

      field1: "random_string_1",
      field2: "random_string_2",
      field3: "random_string_3",
      field4: "random_string_4",
      field5: "random_string_5",
      field6: "random_string_6",
      field7: "random_string_7",
      field8: "random_string_8",
      field9: "random_string_9",
      field10: "random_string_10",
      field11: "random_string_11",
      field12: "random_string_12",
      field13: "random_string_13",
      field14: "random_string_14",
      field15: "random_string_15",
      field16: "random_string_16",
      field17: "random_string_17",
      field18: "random_string_18",
      field19: "random_string_19",
      field20: "random_string_20",
      field21: "random_string_21",
      field22: "random_string_22",
      field23: "random_string_23",
      field24: "random_string_24",
      field25: "random_string_25",
      field26: "random_string_26",
      field27: "random_string_27",
      field28: "random_string_28",
      field29: "random_string_29",
      field30: "random_string_30",
      field31: "random_string_31",
      field32: "random_string_32",
      field33: "random_string_33",
      field34: "random_string_34",
      field35: "random_string_35",
      field36: "random_string_36",
      field37: "random_string_37",
      field38: "random_string_38",
      field39: "random_string_39",
      field40: "random_string_40",
      field41: "random_string_41",
      field42: "random_string_42",
      field43: "random_string_43",
      field44: "random_string_44",
      field45: "random_string_45",
      field46: "random_string_46",
      field47: "random_string_47",
      field48: "random_string_48",
      field49: "random_string_49",
      field50: "random_string_50",
      field51: "random_string_51",
      field52: "random_string_52",
      field53: "random_string_53",
      field54: "random_string_54",
      field55: "random_string_55",
      field56: "random_string_56",
      field57: "random_string_57",
      field58: "random_string_58",
      field59: "random_string_59",
      field60: "random_string_60",
      field61: "random_string_61",
      field62: "random_string_62",
      field63: "random_string_63",
      field64: "random_string_64",
      field65: "random_string_65",
      field66: "random_string_66",
      field67: "random_string_67",
      field68: "random_string_68",
      field69: "random_string_69",
      field70: "random_string_70",
      field71: "random_string_71",
      field72: "random_string_72",
      field73: "random_string_73",
      field74: "random_string_74",
      field75: "random_string_75",
      field76: "random_string_76",
      field77: "random_string_77",
      field78: "random_string_78",
      field79: "random_string_79",
      field80: "random_string_80",
      field81: "random_string_81",
      field82: "random_string_82",
      field83: "random_string_83",
      field84: "random_string_84",
      field85: "random_string_85",
      field86: "random_string_86",
      field87: "random_string_87",
      field88: "random_string_88",
      field89: "random_string_89",
      field90: "random_string_90",
      field91: "random_string_91",
      field92: "random_string_92",
      field93: "random_string_93",
      field94: "random_string_94",
      field95: "random_string_95",
      field96: "random_string_96",
      field97: "random_string_97",
      field98: "random_string_98",
      field99: "random_string_99",
      field100: "random_string_100",
      field101: "random_string_101",
      field102: "random_string_102",
      field103: "random_string_103",
      field104: "random_string_104",
      field105: "random_string_105",
      field106: "random_string_106",
      field107: "random_string_107",
      field108: "random_string_108",
      field109: "random_string_109",
      field110: "random_string_110",
      field111: "random_string_111",

      field1: "random_string_1",
      field2: "random_string_2",
      field3: "random_string_3",
      field4: "random_string_4",
      field5: "random_string_5",
      field6: "random_string_6",
      field7: "random_string_7",
      field8: "random_string_8",
      field9: "random_string_9",
      field10: "random_string_10",
      field11: "random_string_11",
      field12: "random_string_12",
      field13: "random_string_13",
      field14: "random_string_14",
      field15: "random_string_15",
      field16: "random_string_16",
      field17: "random_string_17",
      field18: "random_string_18",
      field19: "random_string_19",
      field20: "random_string_20",
      field21: "random_string_21",
      field22: "random_string_22",
      field23: "random_string_23",
      field24: "random_string_24",
      field25: "random_string_25",
      field26: "random_string_26",
      field27: "random_string_27",
      field28: "random_string_28",
      field29: "random_string_29",
      field30: "random_string_30",
      field31: "random_string_31",
      field32: "random_string_32",
      field33: "random_string_33",
      field34: "random_string_34",
      field35: "random_string_35",
      field36: "random_string_36",
      field37: "random_string_37",
      field38: "random_string_38",
      field39: "random_string_39",
      field40: "random_string_40",
      field41: "random_string_41",
      field42: "random_string_42",
      field43: "random_string_43",
      field44: "random_string_44",
      field45: "random_string_45",
      field46: "random_string_46",
      field47: "random_string_47",
      field48: "random_string_48",
      field49: "random_string_49",
      field50: "random_string_50",
      field51: "random_string_51",
      field52: "random_string_52",
      field53: "random_string_53",
      field54: "random_string_54",
      field55: "random_string_55",
      field56: "random_string_56",
      field57: "random_string_57",
      field58: "random_string_58",
      field59: "random_string_59",
      field60: "random_string_60",
      field61: "random_string_61",
      field62: "random_string_62",
      field63: "random_string_63",
      field64: "random_string_64",
      field65: "random_string_65",
      field66: "random_string_66",
      field67: "random_string_67",
      field68: "random_string_68",
      field69: "random_string_69",
      field70: "random_string_70",
      field71: "random_string_71",
      field72: "random_string_72",
      field73: "random_string_73",
      field74: "random_string_74",
      field75: "random_string_75",
      field76: "random_string_76",
      field77: "random_string_77",
      field78: "random_string_78",
      field79: "random_string_79",
      field80: "random_string_80",
      field81: "random_string_81",
      field82: "random_string_82",
      field83: "random_string_83",
      field84: "random_string_84",
      field85: "random_string_85",
      field86: "random_string_86",
      field87: "random_string_87",
      field88: "random_string_88",
      field89: "random_string_89",
      field90: "random_string_90",
      field91: "random_string_91",
      field92: "random_string_92",
      field93: "random_string_93",
      field94: "random_string_94",
      field95: "random_string_95",
      field96: "random_string_96",
      field97: "random_string_97",
      field98: "random_string_98",
      field99: "random_string_99",
      field100: "random_string_100",
      field101: "random_string_101",
      field102: "random_string_102",
      field103: "random_string_103",
      field104: "random_string_104",
      field105: "random_string_105",
      field106: "random_string_106",
      field107: "random_string_107",
      field108: "random_string_108",
      field109: "random_string_109",
      field110: "random_string_110",
      field111: "random_string_111",
    };

    const smallResult = generateChecksum(smallData);
    console.log(
      `Small data checksum: ${smallResult.checksum}, Time taken: ${smallResult.time} ms`
    );
    const mediumResult = generateChecksum(mediumData);
    console.log(
      `Medium data checksum: ${mediumResult.checksum}, Time taken: ${mediumResult.time} ms`
    );
    const largeResult = generateChecksum(largeData);
    console.log(
      `Large data checksum: ${largeResult.checksum}, Time taken: ${largeResult.time} ms`
    );
    const token = localStorage.getItem("accessToken");
    if (token) {
      config.headers["Authorization"] = `Bearer ${token}`;
    }
    return config;
  },
  (error) => {
    return Promise.reject(error);
  }
);

api.interceptors.response.use(
  (response) => {
    return response;
  },
  async (error) => {
    const originalRequest = error.config;
    if (error.response.status === 401 && !originalRequest._retry) {
      originalRequest._retry = true;
      try {
        const newAccessToken = await refreshToken();
        api.defaults.headers.common[
          "Authorization"
        ] = `Bearer ${newAccessToken}`;
        originalRequest.headers["Authorization"] = `Bearer ${newAccessToken}`;
        return api(originalRequest);
      } catch (err) {
        logout();
        window.location.href = "/login"; // Redirect to login page
      }
    }
    return Promise.reject(error);
  }
);

export default api;
